<?xml version="1.0" encoding="utf-8"?>
<mx:TitleWindow xmlns:mx="http://www.adobe.com/2006/mxml"
	width="600" height="500" xmlns:contacts="com.dbi.cat.view.contacts.*"
	showCloseButton="true"
	close="onClose()"
	title="Tag Filter">
	<mx:Script>
		<![CDATA[
			import com.dbi.cat.common.vo.ClientVO;
			import com.dbi.cat.common.vo.ContactTagVO;
			import com.dbi.cat.common.constants.ContactTagType;
			import mx.collections.ArrayCollection;
			import com.dbi.cat.event.ContactEvent;
			
			
			[Bindable]
			public var contactTagLists:ArrayCollection;
			
			private function onClose():void
			{
				dispatchEvent(new ContactEvent(ContactEvent.CLOSE_CONTACT_TAG_FILTER));
			}
			private function doFilter():void
			{
				var event:ContactEvent = new ContactEvent(ContactEvent.FILTER_CONTACTS);
				event.contactTags = Tags.selectedTags;
				dispatchEvent(event);
			}
			private function unselectAll():void
			{
				Tags.unselectAll();
			}
		]]>
	</mx:Script>
	<contacts:TagChooser id="Tags"
		width="100%" height="100%"
		contactTagLists="{contactTagLists}" />
	<mx:ControlBar>
		<mx:Button label="UnSelect All"
			click="unselectAll()" />
		<mx:Spacer width="100%" />
		<mx:Button label="Filter By Tags"
			click="{doFilter()}" />
	</mx:ControlBar>
</mx:TitleWindow>
